<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Ubuntu+Mono" />
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
  <link href='//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/styles/agate.min.css' rel='stylesheet'/>
  <style>
    body {
        font-family: "Ubuntu Mono";
    }
    div.scroll {
        height: 90%;
        overflow-x: hidden;
        overflow-y: auto;
        text-align:justify;
    }

    .float-container {
    border: 3px solid #fff;
    }

    .float-left {
        width: 10%;
        float: left;
      }
    .float-right {
        width: 90%;
        float: left;
    }
    /*style the search box*/
    #filter {
        width: 100%;
        font-size: 18px;
        padding: 11px;
        border: 1px solid #ddd;
    }
    /*style the topics menu*/      
    #topics {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
    #topics li a {
        padding: 5px;
        text-decoration: none;
        color: black;
        display: block
      }

    #topics li a:hover {
        background-color: #eee;
      }
    
    table {
        border-collapse: collapse;
        width: 100%;
        border: 1px solid black;
    }
    th {
        border: 1px solid black;
    }
    td {
        text-align: left;
        vertical-align: text-top;
        background-color: #333; /* this color is same as highlight.js..change this if u change theme*/
        border: 1px solid #eee;
    }
    
  </style>
</head>

<body>

<div class="float-container">

<div class="float-left" style="background-color:#bbb;">
  <input type="text" id="filter" onkeyup="filter(this.id,'topics')" placeholder="Search.." title="Type in a category">
  <ul id="topics">
    <li><a onclick="scroll_to('loops')">Loops</a></li>
    <li><a onclick="scroll_to('conditionals')">Conditionals</a></li>
    <li><a onclick="scroll_to('arrays')">Arrays</a></li>
    <li><a onclick="scroll_to('numerics')">Numerics</a></li>
    <li><a  onclick="scroll_to('special_vars')">Special variables</a></li>
    <li><a onclick="scroll_to('redirection')">Redirection</a></li>
  </ul>
</div>

<div class="scroll" class="float-right" id="main">
<h1 id="loops">Loops</h1>
<p>
For loop.
</p>
<table>
<tr>
<th>Basic for</th>
<th>C-like for</th>
<th>Ranges</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="basic_for" class="language-bash"><pre>
for i in [ls | /dir1/dir2/*]; do
    echo $i
done
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="clike_for" class="language-bash"><pre>
for i in ((i = 0 ; i < 10 ; i++)); do
    echo $i
done
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="ranges_for" class="language-bash"><pre>
for i in {5..50..5}; do
    echo "$i"
done
</pre></code></pre>
</td>
</tr>
</table>

<p>
While loop.
</p>
<table>
<tr>
<th>while</th>
<th>while infinite oneline</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="while" class="language-bash"><pre>
while true; do
    ···
done
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="infinite_oneline" class="language-bash"><pre>
while true; kill -9 420; done
</pre></code></pre>
</td>
</tr>
</table>


<h1 id="conditionals">Conditionals</h1>
<table>
<tr>
<th>Compare strings</th>
<th>Check if string is empty(-z) or not(-n)</th>
<th>Compare numerics</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="comp_string" class="language-bash"><pre>
if [[ "$str1" == "$str2" ]]; then
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="check_str" class="language-bash"><pre>
if [[ -z "$string" ]]; then
    echo "empty"
elif [[ -n "$string" ]]; then
    echo "not empty"
else
    echo "This is to show if structure"
fi
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="comp_num" class="language-bash"><pre>
if (( $n < $m )); then
    echo "$n is smaller than $m"
fi
</pre></code></pre>
</td>
</tr>
</table>

<h1 id="arrays">Arrays</h1>
<p>Basic operations</p>
<table>
<tr>
<th>Define arrays. Element accessed via indexing - arr[0]</th>
<th>Iterate over an array</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="def_arr" class="language-bash"><pre>
arr=(a0 a1 a2)
</pre></code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="iter_arr" class="language-bash"><pre>
for i in "${arr[@]}"; do
    echo $i
done
</pre></code></pre>
</td>
</tr>
</table>

<p>Advanced</p>
<table>
<tr>
<th>Access last element</th>
<th>All elements, space separated</th>
<th>Number of elements</th>
<th>Get element at Nth position</th>
<th>Get subarray from position m and length n</th>
<th>Get keys of all elements, space separated, for dicts</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_lm" class="language-bash">echo ${arr[-1]}</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_am" class="language-bash">echo ${arr[@]}</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_#m" class="language-bash">echo ${#arr[@]}</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_Nm" class="language-bash">echo ${#arr[N]}</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_mn" class="language-bash">echo ${arr[@]:m:n}</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="arr_ak" class="language-bash">echo ${!arr[@]}</code></pre>
</td>
</tr>
</table>

<h1 id="numerics">Numerics</h1>
<p>NUmerical Calculations are written in $((...)).</p>
<table>
<tr>
<th>Calculations</th>
<th>Generate random numbers 0..N</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="num_calc" class="language-bash">$((a+b))</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="num_rand" class="language-bash">$(($RANDOM%N))</code></pre>
</td>
</tr>
</table>
    

<h1 id="special_vars">Special variables</h1>

<table>
<tr>
<th>Number of arguments</th>
<th>All positional arguments (as a single word)</th>
<th>All positional arguments (as separate strings)</th>
<th>Nth positional arguments(0=filename of the script)</th>
<th>Exit status of last task</th>
<th>PID of last background task</th>
<th>PID of shell</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_Na" class="language-bash">$#</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_Naw" class="language-bash">$*</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_Nas" class="language-bash">$@</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_Nth" class="language-bash">$N</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_exitlast" class="language-bash">$?</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_pidlast" class="language-bash">$!</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="sv_pidshell" class="language-bash">$$</code></pre>
</td>
</tr>
</table>


<h1 id="redirection">Redirection</h1>
<table>
<tr>
<th>stdout to file</th>
<th>stdout to file append</th>
<th>stderr to file</th>
<th>stderr to stdout</th>
<th>stderr to null</th>
<th>stdout&stderr to null</th>
<th>feed file into stdin</th>
</tr>
<tr>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_sof" class="language-bash">./a.out &gt file.txt</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_sofa" class="language-bash">./a.out &gt&gt file.txt </code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_sef" class="language-bash">./a.out 2&gt file.txt</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_seso" class="language-bash">./a.out 2&gt&1</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_sen" class="language-bash">./a.out 2&gt/dev/null</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_seson" class="language-bash">./a.out &&gt/dev/null</code></pre>
</td>
<td>
<pre><code ondblclick="mycopy(this.id)" id="re_fsi" class="language-bash">./a.out &lt file.txt</code></pre>
</td>
</tr>
</table>

<p>
bash is used for interactive scripts execution and dash is for non-interactive scripts.<br>
/bin/sh is link to dash binary. dash is much faster than bash.<br>
dash is useful when redirection with sudo does not work, e.g.<br>
sudo echo 0 &gt file_owned_by_root, fails<br>
sudo sh -c 'echo 0 > file_owned_by_root'<br>
single quotes are Important.
</p>



</div>
</div>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

<script>
function scroll_to(id) {
  var elmnt = document.getElementById(id);
  elmnt.scrollIntoView();
  var myElement = document.getElementById(id);
  var topPos = myElement.offsetTop;
  document.getElementById("main").scrollTop = topPos;
}

function mycopy(id) {
    alert(id);
    var range = document.createRange();
    var selection = window.getSelection();
    range.selectNodeContents(document.getElementById(id));
    selection.removeAllRanges();
    selection.addRange(range);
    document.execCommand('copy');
}

function filter(filter_id,topics_id) {
  var input, filter, ul, li, a, i;
  input = document.getElementById(filter_id);
  filter = input.value.toUpperCase();
  ul = document.getElementById(topics_id);
  li = ul.getElementsByTagName("li");
  for (i = 0; i < li.length; i++) {
    a = li[i].getElementsByTagName("a")[0];
    if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
      li[i].style.display = "";
    } else {
      li[i].style.display = "none";
    }
  }
}

</script>
<script src='//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/highlight.min.js'></script>
<script>
    hljs.highlightAll();
</script>

</body>
</html>
